{"version":4,"terraform_version":"1.10.7","serial":68,"lineage":"f10df5aa-2cfc-59c0-2729-3db8f19e0836","outputs":{"lambda_url":{"value":"https://wgokt7my2x2a7rpb7ripn4m47m0teqco.lambda-url.us-east-1.on.aws/","type":"string"}},"resources":[{"mode":"data","type":"archive_file","name":"lambda_zip","provider":"provider[\"registry.opentofu.org/hashicorp/archive\"]","instances":[{"schema_version":0,"attributes":{"exclude_symlink_directories":null,"excludes":null,"id":"ad1de5724d4c8e15fe8dec3d54c8bf6c45367c5e","output_base64sha256":"V4dLoZNNBp6BxHCG49H7puy5kU3rxyx4MzVkDL4C6uA=","output_base64sha512":"+kFW3xcNR+xgh1uYMZVx1nv0YralBPc+fpt14XqhrCdYP3aV6k3QXtPzpFQpZE9RtNIGWZMJdg8Q/9jsaN0JWw==","output_file_mode":null,"output_md5":"535460ad012589f22c12af56264188a9","output_path":"./lambda.zip","output_sha":"ad1de5724d4c8e15fe8dec3d54c8bf6c45367c5e","output_sha256":"57874ba1934d069e81c47086e3d1fba6ecb9914debc72c783335640cbe02eae0","output_sha512":"fa4156df170d47ec60875b98319571d67bf462b6a504f73e7e9b75e17aa1ac27583f7695ea4dd05ed3f3a45429644f51b4d206599309760f10ffd8ec68dd095b","output_size":3503102,"source":[],"source_content":null,"source_content_filename":null,"source_dir":"./lambda","source_file":null,"type":"zip"},"sensitive_attributes":[]}]},{"mode":"managed","type":"aws_iam_role","name":"lambda_exec_role","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"arn":"arn:aws:iam::942908576401:role/setback-lambda-exec-role","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","create_date":"2026-01-10T16:02:06Z","description":"","force_detach_policies":false,"id":"setback-lambda-exec-role","inline_policy":[{"name":"lambda-s3-access","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"s3:GetObject\",\"s3:PutObject\",\"s3:DeleteObject\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::setback-game-state-02928eda/*\"},{\"Action\":[\"s3:ListBucket\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::setback-game-state-02928eda\"}]}"}],"managed_policy_arns":["arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"],"max_session_duration":3600,"name":"setback-lambda-exec-role","name_prefix":"","path":"/","permissions_boundary":"","tags":{},"tags_all":{},"unique_id":"AROA5XCN3CKI27RF445H5"},"sensitive_attributes":[],"private":"bnVsbA=="}]},{"mode":"managed","type":"aws_iam_role_policy","name":"lambda_s3_policy","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"id":"setback-lambda-exec-role:lambda-s3-access","name":"lambda-s3-access","name_prefix":"","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"s3:GetObject\",\"s3:PutObject\",\"s3:DeleteObject\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::setback-game-state-02928eda/*\"},{\"Action\":[\"s3:ListBucket\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::setback-game-state-02928eda\"}]}","role":"setback-lambda-exec-role"},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["aws_iam_role.lambda_exec_role","aws_s3_bucket.setback_state","random_id.bucket_suffix"]}]},{"mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_logs","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"id":"setback-lambda-exec-role/arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole","policy_arn":"arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole","role":"setback-lambda-exec-role"},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["aws_iam_role.lambda_exec_role"]}]},{"mode":"managed","type":"aws_lambda_function","name":"setback_backend","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"architectures":["x86_64"],"arn":"arn:aws:lambda:us-east-1:942908576401:function:setback-backend","capacity_provider_config":[],"code_sha256":"V4dLoZNNBp6BxHCG49H7puy5kU3rxyx4MzVkDL4C6uA=","code_signing_config_arn":"","dead_letter_config":[],"description":"","durable_config":[],"environment":[{"variables":{"BUCKET_NAME":"setback-game-state-02928eda"}}],"ephemeral_storage":[{"size":512}],"file_system_config":[],"filename":"./lambda.zip","function_name":"setback-backend","handler":"index.handler","id":"setback-backend","image_config":[],"image_uri":"","invoke_arn":"arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:942908576401:function:setback-backend/invocations","kms_key_arn":"","last_modified":"2026-01-11T12:28:09.000+0000","layers":[],"logging_config":[{"application_log_level":"","log_format":"Text","log_group":"/aws/lambda/setback-backend","system_log_level":""}],"memory_size":128,"package_type":"Zip","publish":false,"publish_to":null,"qualified_arn":"arn:aws:lambda:us-east-1:942908576401:function:setback-backend:$LATEST","qualified_invoke_arn":"arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:942908576401:function:setback-backend:$LATEST/invocations","region":"us-east-1","replace_security_groups_on_destroy":null,"replacement_security_group_ids":null,"reserved_concurrent_executions":-1,"role":"arn:aws:iam::942908576401:role/setback-lambda-exec-role","runtime":"nodejs24.x","s3_bucket":null,"s3_key":null,"s3_object_version":null,"signing_job_arn":"","signing_profile_version_arn":"","skip_destroy":false,"snap_start":[],"source_code_hash":"V4dLoZNNBp6BxHCG49H7puy5kU3rxyx4MzVkDL4C6uA=","source_code_size":3503102,"source_kms_key_arn":"","tags":{},"tags_all":{},"tenancy_config":[],"timeout":15,"timeouts":null,"tracing_config":[{"mode":"PassThrough"}],"version":"$LATEST","vpc_config":[]},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH19","dependencies":["aws_iam_role.lambda_exec_role","aws_s3_bucket.setback_state","data.archive_file.lambda_zip","random_id.bucket_suffix"]}]},{"mode":"managed","type":"aws_lambda_function_url","name":"setback_backend_url","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"authorization_type":"NONE","cors":[{"allow_credentials":false,"allow_headers":[],"allow_methods":["*"],"allow_origins":["*"],"expose_headers":[],"max_age":0}],"function_arn":"arn:aws:lambda:us-east-1:942908576401:function:setback-backend","function_name":"setback-backend","function_url":"https://wgokt7my2x2a7rpb7ripn4m47m0teqco.lambda-url.us-east-1.on.aws/","id":"setback-backend","invoke_mode":"BUFFERED","qualifier":"","region":"us-east-1","timeouts":null,"url_id":"wgokt7my2x2a7rpb7ripn4m47m0teqco"},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9fQ==","dependencies":["aws_iam_role.lambda_exec_role","aws_lambda_function.setback_backend","aws_s3_bucket.setback_state","data.archive_file.lambda_zip","random_id.bucket_suffix"]}]},{"mode":"managed","type":"aws_s3_bucket","name":"setback_state","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"acceleration_status":"","acl":null,"arn":"arn:aws:s3:::setback-game-state-02928eda","bucket":"setback-game-state-02928eda","bucket_domain_name":"setback-game-state-02928eda.s3.amazonaws.com","bucket_prefix":"","bucket_region":"us-east-1","bucket_regional_domain_name":"setback-game-state-02928eda.s3.us-east-1.amazonaws.com","cors_rule":[],"force_destroy":false,"grant":[{"id":"0705619265c9b3e51f8b80b22e4a901ce792882094619a4aaef256ea6a5bb84f","permissions":["FULL_CONTROL"],"type":"CanonicalUser","uri":""}],"hosted_zone_id":"Z3AQBSTGFYJSTF","id":"setback-game-state-02928eda","lifecycle_rule":[{"abort_incomplete_multipart_upload_days":0,"enabled":true,"expiration":[{"date":"","days":30,"expired_object_delete_marker":false}],"id":"expire-old-games","noncurrent_version_expiration":[],"noncurrent_version_transition":[],"prefix":"","tags":{},"transition":[]}],"logging":[],"object_lock_configuration":[],"object_lock_enabled":false,"policy":"","region":"us-east-1","replication_configuration":[],"request_payer":"BucketOwner","server_side_encryption_configuration":[{"rule":[{"apply_server_side_encryption_by_default":[{"kms_master_key_id":"","sse_algorithm":"AES256"}],"bucket_key_enabled":false}]}],"tags":{},"tags_all":{},"timeouts":null,"versioning":[{"enabled":false,"mfa_delete":false}],"website":[],"website_domain":null,"website_endpoint":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInJlYWQiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19","dependencies":["random_id.bucket_suffix"]}]},{"mode":"managed","type":"aws_s3_bucket_lifecycle_configuration","name":"setback_state_lifecycle","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":1,"attributes":{"bucket":"setback-game-state-02928eda","expected_bucket_owner":"","id":"setback-game-state-02928eda","region":"us-east-1","rule":[{"abort_incomplete_multipart_upload":[],"expiration":[{"date":null,"days":30,"expired_object_delete_marker":false}],"filter":[],"id":"expire-old-games","noncurrent_version_expiration":[],"noncurrent_version_transition":[],"prefix":"","status":"Enabled","transition":[]}],"timeouts":null,"transition_default_minimum_object_size":"all_storage_classes_128K"},"sensitive_attributes":[],"dependencies":["aws_s3_bucket.setback_state","random_id.bucket_suffix"]}]},{"mode":"managed","type":"random_id","name":"bucket_suffix","provider":"provider[\"registry.opentofu.org/hashicorp/random\"]","instances":[{"schema_version":0,"attributes":{"b64_std":"ApKO2g==","b64_url":"ApKO2g","byte_length":4,"dec":"43159258","hex":"02928eda","id":"ApKO2g","keepers":null,"prefix":null},"sensitive_attributes":[]}]}],"check_results":null}
